namespace = farsight_events

country_event = {
	id = farsight_events.1
	title = "farsight_events.1.t"
	desc = "farsight_events.1.d"
	picture = Farsight_aunva_event_picture

	is_triggered_only = yes

	trigger = {
		is_at_war = no
		tag = XGG
		exists = XGF
	}
	
	option = {
		name = farsight_events.1.a
		XGF = {
			random_owned_province = {
				spawn_rebels = {
					type = farsight_rebels
					size = 3
					friend = XGG
				}
			}
		}
	}
	option = {
		name = farsight_events.1.b
		add_prestige = 50
	}
}

country_event = {
	id = farsight_events.2
	title = "farsight_events.2.t"
	desc = "farsight_events.2.d"
	picture = Crisis_1_event_picture

	trigger = {
		tag = XGG
		is_in_war = {
			attackers = XGF
			defenders = XGG
		}
	}
	
	fire_only_once = yes

	option = {
		name = farsight_events.2.a
		ai_chance = { 
			factor = 75
			modifier = {
				factor = 0
				NOT = {
					has_country_flag = WIN_WAR_OF_DAKKA
				}
			}
		}
		XGF = {
			every_owned_province = {
				limit = {
					culture = fire_caste_culture
				}
				spawn_rebels = {
					type = farsight_rebels
					size = 5
					friend = XGG
				}
			}
			every_owned_province = {
				limit = {
					NOT = { 
						culture = fire_caste_culture
						culture = ethereal_culture						
					}
				}
				spawn_rebels = {
					type = farsight_rebels
					size = 3
					friend = XGG
				}
			}
		}
	}
	option = {
		ai_chance = { 
			factor = 25 
		}
		name = farsight_events.2.b
		switch_tag = XGF
		set_global_flag = inherit_farsight
	}
	
	after = {
		if = {
			limit = {
				has_global_flag = inherit_farsight
			}
			XGF = {
				inherit = XGG
			}
		}
		clr_global_flag = inherit_farsight
	}
}

country_event = {
	id = farsight_events.3
	title = "farsight_events.3.t"
	desc = "farsight_events.3.d"
	picture = Farsight_aunva_event_picture
	
	trigger = {
		tag = XGG
		any_core_province = {
			culture = ethereal_culture
		}
	}
	
	option = {
		name = farsight_events.3.a
		every_core_province = {
			limit = {
				culture = ethereal_culture
			}
			change_culture = fire_caste_culture
		}
	}
}

country_event = {
	id = farsight_events.4
	title = "farsight_events.4.t"
	desc = "farsight_events.4.d"
	picture = Farsight_aunva_event_picture
	fire_only_once = yes
	
	hidden = yes
	trigger = {
		tag = XGG
		NOT = {
			exists = XGF
		}
	}
	
	option = {
		add_country_modifier = {
			name = farsight_free_tau_from_ethereals
			duration = -1
			desc = FARSIGHT_FREE_TAU_FROM_ETHEREALS_DESC
		}
	}
}

country_event = {
	id = farsight_events.5
	title = "farsight_events.5.t"
	desc = "farsight_events.5.d"
	picture = Farsight_aunva_event_picture
	
	hidden = yes
	trigger = {
		tag = XGG
		NOT = {
			exists = XGL
		}
	}
	
	option = {
		set_global_flag = WIN_WAR_OF_DAKKA
	}
}

country_event = {
	id = farsight_events.6 # Farsight Ark of omen chain 1 : Return to Arthas Moloch (spawn chaos)
	title = "farsight_events.6.t"
	desc = "farsight_events.6.d"
	picture = Farsight_aunva_event_picture
	
	is_triggered_only = yes
	
	trigger = {
		tag = XGG
	}
	
	option = {
		
	}
}